import aiogram
import tensorflow as tf
import numpy as np
from tensorflow.keras.preprocessing.text import Tokenizer
from tensorflow.keras.preprocessing.sequence import pad_sequences

# Инициализация бота
bot = aiogram.Bot(token="6439522576:AAGBJahBMqhUDlaikziF3Dqm3lEdE4a6mL0")
dp = aiogram.Dispatcher(bot)

# Данные для обучения модели
conversations = [
        "Привет",
    "Как дела?",
    "Что нового?",
    "Здравствуйте",
    "Приветствую!",
    "Доброе утро", 
    "Ты на хате?", 
    "Ты дома?", 
    "Да", 
    "Заебись", 
    "У тебя родичи дома?", 
    "Мама", 
    "Пон, я хочу у Дена спросить чтоб габы штук 20 дал", 
    "Давай", 
    "Бля он только 10 может дать больше у нкго нет", 
    "У нас там осталось ещё?", 
    "Некит", 
    "Привет", 
    "Спишь", 
    "?", 
    "Короче есть предложение у тебя купят карту но в Сбербанк не будут заходить им она нужна просто снимать бабки и всё, он сказал что 10 к только готов дать", 
    "Короче он сам тебе там объяснит что да как", 
    "Когда ему понадобится", 
    "Там торгуется сам с ним", 
    "15", 
    "К", 
    "Я готов продать", 
    "Ему не седня надо", 
    "Он мне скажет когда", 
    "Хорошо", 
    "Выходить будешь?", 
    "Да", 
    "Окей, сейчас я оденусь и выйду", 
    "Нужно шабашку найти", 
    "Надо", 
    "А что на счëт карты", 
    "Он ещё ничего не сказал", 
    "Ну я хз ему пока не нужна", 
    "На счëт работы я разберусь", 
    "Че ты где?", 
    "На пятом", 
    "Ясно", 
    "Некит", 
    "Спишь?", 
    "Выходи", 
    "Ты где?", 
    "Возле твоего дома", 
    "Сможешь меня за сигами отвезти?", 
    "Че ты ещё в красе?", 
    "Ау", 
    "Некит", 
    "Привет", 
    "Занят?", 
    "Что делаешь?", 
    "Здорова", 
    "Ты выйдешь гулять?", 
    "Сейчас?", 
    "Да", 
    "Могу", 
    "Вечером пиздец холодно", 
    "Ага", 
    "Окей", 
    "Ты где?", 
    "Пока на хате", 
    "Ок", 
    "Так че завтра идём на работу?", 
    "Да", 
    "Бля завтра дождь", 
    "Прямо с самого утра?", 
    "С 9", 
    "Доброе утро", 
    "Спишь?", 
    "Нет", 
    "Выходи", 
    "Я возле тебя"
    "Щас выйду"
    "А", 
    "Я сейчас поем", 
    "Ок", 
    "Я про коноплянную настойку", 
    "Продать можно намного больше людей", 
    "Скажи то что отмазаться перед ней, поэтому сказал типо приехали", 
    "Хорошо", 
    "Та помолчи на счёт 0.5", 
    "Мама твоя слышала", 
    "Да похуй", 
    "0.5 можно", 
    "И что ты скажешь, типо бухим ездил до неё?", 
    "Рд", 
    "Нет трезвый ,а потом выпел", 
    "Родители", 
    "Пон", 
    "Ну что выпьем?", 
    "Перед братом?", 
    "Что ты доебался до него", 
    "Чтоб не раслоблялся", 
    "Налевай", 
    "Некит", 
    "Ты где?", 
    "В шараге", 
    "Я ещё на хате", 
    "Понятно", 
    "Привет", 
    "Занят?", 
    "Уже нет", 
    "Нет", 
    "А что?", 
    "А где?", 
    "Я на стадике", 
    "Че там народа много?", 
    "Да не особо", 
    "Понятно"
    
]

@dp.message_handler(commands=['start'])
async def start(message: aiogram.types.Message):
    keyboard = aiogram.types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.add(aiogram.types.KeyboardButton('Правда'))
    keyboard.add(aiogram.types.KeyboardButton('Ложь'))
    await message.answer("Привет! Нажми на кнопку, чтобы начать обучение модели.", reply_markup=keyboard)

@dp.message_handler(lambda message: message.text in ['Правда', 'Ложь'])
async def handle_feedback(message: aiogram.types.Message):
    feedback = message.text.lower()
    conversations.append(feedback)

    # Обучение модели на обновленных данных
    # Код обучения модели, как в вашем примере, здесь

    await message.answer(f"Вы выбрали: {feedback}. Модель обучена на вашем ответе.")

if __name__ == '__main__':
    aiogram.executor.start_polling(dp)
